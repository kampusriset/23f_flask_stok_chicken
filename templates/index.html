{% extends "base.html" %}

{% block title %}Beranda - LINTANG CHICKEN{% endblock %}

{% block content %}
<div class="header">
    <h1>Selamat Datang di LINTANG CHICKEN</h1>
    <p>Sistem Management Stok Barang Professional</p>
</div>

<div class="dashboard">
    <div class="stats-grid">
        <div class="stat-card">
            <h3>Total Barang</h3>
            <p class="stat-number">{{ items|length }}</p>
        </div>
        <div class="stat-card">
            <h3>Stok Tersedia</h3>
            <p class="stat-number">{{ items|sum(attribute='stock') }}</p>
        </div>
        <div class="stat-card">
            <h3>Kategori</h3>
            <p class="stat-number">{{ items|map(attribute='category')|unique|list|length }}</p>
        </div>
    </div>

    <div class="quick-actions">
        <h2>Quick Actions</h2>
        <div class="action-buttons">
            <a href="{{ url_for('tambah_barang') }}" class="btn btn-primary">Tambah Barang Baru</a>
            <a href="{{ url_for('daftar_barang') }}" class="btn btn-secondary">Lihat Semua Barang</a>
        </div>
    </div>

    <div class="recent-items">
        <h2>Barang Terbaru</h2>
        {% if items %}
        <div class="items-grid">
            {% for item in items[-3:] %}
            <div class="item-card">
                <h3>{{ item.name }}</h3>
                <p class="item-category">{{ item.category }}</p>
                <p class="item-stock">Stok: {{ item.stock }}</p>
                <p class="item-price">Rp {{ "{:,}".format(item.price) }}</p>
                <a href="{{ url_for('edit_barang', item_id=item.id) }}" class="btn btn-edit">Edit</a>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="no-data">
            <p>Belum ada barang yang terdaftar.</p>
            <a href="{{ url_for('tambah_barang') }}" class="btn btn-primary">Tambah Barang Pertama</a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}